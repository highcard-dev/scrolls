name: registry-1.docker.io/highcard/scroll-lgsm
desc: l4dserver
version: 0.0.2
app_version: l4dserver
init: "main.start"
processes:
  main:
    commands:
      start:
        needs: [main.install]
        run: restart
        procedures:
          - mode: exec
            data:
              - ./l4dserver
              - update
          - mode: exec
            data:
              - ./l4dserver
              - start
          - mode: exec-tty
            data:
              - ./l4dserver
              - console
      stop:
        procedures:
          - mode: exec
            data:
              - ./l4dserver
              - stop
      install:
        run: once
        procedures:
          - mode: exec
            data:
              - sh
              - install-lgsm.sh
          - mode: exec
            data:
              - ./linuxgsm.sh
              - l4dserver
          - mode: exec
            data:
              - ./l4dserver
              - auto-install