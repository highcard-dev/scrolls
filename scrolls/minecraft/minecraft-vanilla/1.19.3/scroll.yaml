name: registry-1.docker.io/highcard/scroll-minecraft-vanilla
desc: Minecraft Vanilla
version: 0.0.1
app_version: 1.19.3
init: "main.install"
processes:
  main:
    commands:
      start:
        should_change_status: start
        procedures:
          - mode: exec
            data:
              - bash
              - ./start.sh
      stop:
        procedures:
          - mode: rcon
            data: stop
      install:
        procedures:
          - mode: exec
            data:
              - wget
              - -q
              - -O
              - server.jar
              - https://launcher.mojang.com/v1/objects/c9df48efed58511cdd0213c56b9013a7b5c9ac1f/server.jar
          - mode: exec
            data:
              - bash
              - -c
              - echo eula=true > eula.txt
          - mode: command
            data: start
      update:
        procedures:
          - mode: exec
            data:
              - sh
              - $SCROLL_DIR/update.sh
          - mode: exec
            data:
              - bash
              - -c
              - echo eula=true > eula.txt
  scroll-switch:
    commands:
      registry-1.docker.io/highcard/scroll-minecraft-vanilla:1.19.4:
        procedures:
          - mode: exec
            data:
              - sh
              - $SCROLL_DIR/scroll-switch/minecraft-spigot@1-19-4/scroll-switch.sh
          - mode: scroll-switch
            data: registry-1.docker.io/highcard/scroll-minecraft-vanilla:1.19.4
      registry-1.docker.io/highcard/scroll-minecraft-vanilla:1.20.1:
        procedures:
          - mode: exec
            data:
              - sh
              - $SCROLL_DIR/scroll-switch/minecraft-spigot@1-20-1/scroll-switch.sh
          - mode: scroll-switch
            data: registry-1.docker.io/highcard/scroll-minecraft-vanilla:1.20.1
plugins:
  rcon: {}
