name: mc-sp
desc: Minecraft Spigot
version: 0.2.5
processes:
  main:
    commands:
      start:
        type: start
        procedures:
          - mode: exec
            data:
              - bash
              - ./start.sh
      stop:
        type: stop
        procedures:
          - mode: rcon
            data:
              - stop
      install:
        type: install
        procedures:
          - mode: exec
            data:
              - wget
              - -O
              - spigot.jar
              - https://download.getbukkit.org/spigot/spigot-1.17.jar
          - mode: exec
            data:
              - bash
              - -c
              - echo eula=true > eula.txt
      update:
        type: update
        procedures:
          - mode: exec
            data:
              - sh
              - $DRUID_SCROLL_DIR/update.sh
          - mode: exec
            data:
              - bash
              - -c
              - echo eula=true > eula.txt
  scroll-switch:
    commands:
      mc-sp@1.18:
        type: "scroll-switch"
        procedures:
          - mode: exec
            data:
              - sh
              - $DRUID_SCROLL_DIR/scroll-switch/mc-sp@1.18/scroll-switch.sh
      mc-sp@1.19:
        type: "scroll-switch"
        procedures:
          - mode: exec
            data:
              - sh
              - $DRUID_SCROLL_DIR/scroll-switch/mc-sp@1.19/scroll-switch.sh
plugins:
  rcon: {}